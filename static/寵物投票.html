<!doctype html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>å¯ä»¥å¹«æˆ‘å€‘æŠ•ç¥¨å“ªä¸€éš»ç‹—ç‹—æ˜¯æœ€å¯æ„›ï¼Ÿâ€” èŠå¤©é¢¨æ ¼ç¤ºç¯„</title>
<style>
  :root{
    --bg:#e5edf5;
    --bar:#0ac261;
    --me:#d2f1c8;
    --you:#ffffff;
    --text:#111827;
    --muted:#6b7280;
    --btn:#2b6fb3;
    --btn-hover:#3b82f6;
    --danger:#dc2626;
    --primary-blue:#2b6fb3;
    --submit-blue:#2b6fb3;
    --login-red:#d32f2f;
  }
  *{box-sizing:border-box}
  body{margin:0;background:var(--bg);font-family:"Noto Sans TC",system-ui,-apple-system,"Segoe UI",Roboto,Arial;color:var(--text)}
  .container{max-width:920px;margin:12px auto;padding:0 12px}
  .phone{max-width:820px;margin:12px auto;padding:0 12px}
  .topbar{
    height:56px;background:var(--bar);color:#fff;border-radius:14px 14px 0 0;
    display:flex;align-items:center;gap:12px;padding:0 14px;box-shadow:0 6px 12px rgba(0,0,0,.08)
  }
  .topbar .title{font-weight:700}
  .chat{
    background:linear-gradient(#e9f3fb,#e7f1f7);
    border-radius:0 0 14px 14px; padding:18px; min-height:60vh;
    box-shadow:0 10px 24px rgba(2,6,23,.08); max-width:760px; margin:18px auto; overflow:auto;
  }

  /* message row */
  .msg{display:flex;align-items:flex-end;gap:10px;margin:10px 0;max-width:100%}
  .msg.you{flex-direction:row}
  .msg.me{flex-direction:row-reverse}

  .avatar{
    width:36px;height:36px;border-radius:50%; background:#c7e9d3;
    display:inline-flex;align-items:center;justify-content:center; font-weight:700; color:#0b5130;
    flex:0 0 36px; user-select:none
  }

  .bubble {
  max-width: 100%; /* è‡ªé©æ‡‰çˆ¶å®¹å™¨å¯¬åº¦ */
  width: auto; /* è®“å¯¬åº¦æ ¹æ“šå…§å®¹è‡ªå‹•èª¿æ•´ */
  padding: 16px; /* å¢åŠ å…§éƒ¨é–“è· */
  border-radius: 12px; /* åœ“è§’èª¿æ•´ */
  background: #ffffff; /* å¡ç‰‡èƒŒæ™¯è‰² */
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); /* å¢åŠ é™°å½± */
  margin-bottom: 10px; /* èˆ‡å…¶ä»–è¨Šæ¯ä¿æŒè·é›¢ */
}

.bubble .name {
  font-size: 14px; /* èª¿æ•´åç¨±æ–‡å­—å¤§å° */
  font-weight: bold; /* åŠ ç²—åç¨± */
  color: #555; /* èª¿æ•´æ–‡å­—é¡è‰² */
  margin-bottom: 8px; /* èˆ‡ä¸‹æ–¹æ–‡å­—ä¿æŒè·é›¢ */
}

.bubble .text {
  font-size: 16px; /* èª¿æ•´æ­£æ–‡æ–‡å­—å¤§å° */
  line-height: 1.5; /* èª¿æ•´è¡Œè· */
  color: #111; /* ä¸»æ–‡å­—é¡è‰² */
}

.bubble .text button {
  display: inline-block;
  padding: 8px 12px; /* å¢åŠ æŒ‰éˆ•å…§éƒ¨é–“è· */
  font-size: 14px; /* èª¿æ•´æŒ‰éˆ•æ–‡å­—å¤§å° */
  border: 1px solid #ccc; /* æŒ‰éˆ•é‚Šæ¡† */
  border-radius: 8px; /* æŒ‰éˆ•åœ“è§’ */
  background: #f9f9f9; /* æŒ‰éˆ•èƒŒæ™¯è‰² */
  cursor: pointer;
  transition: background-color 0.2s ease;
}

.bubble .text button:hover {
  background: #f3f4f6; /* æ»‘é¼ ç§»éæ™‚çš„èƒŒæ™¯è‰² */
}

.bubble .time {
  font-size: 12px; /* èª¿æ•´æ™‚é–“æ–‡å­—å¤§å° */
  color: #888; /* èª¿æ•´æ™‚é–“é¡è‰² */
  margin-top: 6px; /* èˆ‡ä¸Šæ–¹å…§å®¹ä¿æŒè·é›¢ */
  text-align: right; /* æ™‚é–“é å³å°é½Š */
}
  /* choice buttons */
  .choices{display:flex;gap:10px;margin-top:8px;flex-wrap:wrap;justify-content: center}
  .choiceBtn{
    background:#fff;border:1px solid #e6e7eb;padding:10px 12px;border-radius:14px;cursor:pointer;min-width:110px;text-align:center;
    box-shadow:0 1px 2px rgba(0,0,0,0.03)
  }
  .choiceBtn:hover{background:#f3f4f6}

  /* photo / voting */
  .photo{padding:8px;background:#fff;border-radius:12px;box-shadow:0 1px 3px rgba(0,0,0,.04);margin-bottom:6px}
  .photo img{width:100%;height:auto;max-height:340px;object-fit:cover;border-radius:8px;display:block}
  .caption{font-size:14px;color:#111;margin:8px 2px 0}
  .btn-row{display:flex;gap:8px;margin-top:10px}
  .vote{background:var(--btn);color:#fff;border:0;padding:8px 12px;border-radius:10px;cursor:pointer}
  .vote:hover{background:var(--btn-hover)}
  .linkBtn{background:#fff;border:1px solid #d1d5db;padding:6px 10px;border-radius:8px;cursor:pointer}

  .hint{font-size:13px;color:var(--muted); margin-top:6px; text-align:center}

  /* overlay / modal base */
  .overlay{position:fixed;inset:0;background:rgba(0,0,0,.6);display:flex;align-items:center;justify-content:center;
           opacity:0;visibility:hidden;transition:opacity .18s;z-index:9999}
  .overlay.show{opacity:1;visibility:visible}
  .modal{background:#fff; width:min(92%,720px); border-radius:16px; padding:20px 22px; text-align:center;
         box-shadow:0 12px 40px rgba(2,6,23,.4)}
  .modal h2{margin:0 0 8px; color:var(--danger); font-size:28px}
  .modal p{margin:6px 0 10px}
  .steps{text-align:left}
  .close{margin-top:12px; background:#111; color:#fff; border:0; padding:10px 14px; border-radius:10px; cursor:pointer}

  /* login modal - match the provided image style */
  .loginModal{
    background:#fff; width:min(92%,720px); border-radius:12px; padding:28px 30px; text-align:center; box-shadow:0 12px 40px rgba(2,6,23,.35)
  }
  .loginModal h1{color:var(--login-red); margin:0 0 8px; font-size:28px; font-weight:700}
  .loginModal p{color:var(--muted); margin:0 0 18px}
  .login-row{display:flex;flex-direction:column;gap:12px;align-items:center}
  .login-row input[type="text"], .login-row input[type="password"]{
    padding:12px;border-radius:8px;border:1px solid #d6d6d6;width:80%;max-width:420px;font-size:15px;
  }
  .login-actions{display:flex;gap:12px;align-items:center;width:100%;justify-content:center;margin-top:6px}
  .login-actions .submitBtn{background:var(--submit-blue);color:#fff;padding:10px 22px;border-radius:8px;border:0;cursor:pointer}
  .login-actions .smallTxt{color:#777;font-size:13px}
  .login-note{font-size:13px;color:#777;margin-top:10px}

  /* responsive */
  @media (max-width:520px){
    .bubble{max-width:84%}
    .photo img{max-height:260px}
    .login-row input[type="text"], .login-row input[type="password"]{width:92%}
  }
</style>
</head>
<body>
  <div class="container">
    <div class="phone">
      <div class="topbar">
        <div style="display:inline-flex;gap:8px;align-items:center">
          <span style="display:inline-flex; width:9px; height:9px; border-left:2px solid #fff; border-bottom:2px solid #fff; transform:rotate(45deg); opacity:.9"></span>
          <span class="title">å¥½å‹ç¾¤çµ„ï¼ˆç¤ºç¯„ï¼‰</span>
        </div>
        <span style="margin-left:auto; font-size:12px; opacity:.9">ä»Šå¤©</span>
      </div>

      <div class="chat" id="chat" aria-live="polite" role="log">
        <!-- messages will be injected here -->
      </div>

      <div class="hint" style="padding:8px 6px 20px 6px">
        æ³¨æ„ï¼šæœ¬é ç‚ºé˜²è©å®£å°ç¤ºç¯„ã€‚çœŸå¯¦æƒ…æ³è‹¥ç¢°åˆ°é¡ä¼¼é€£çµï¼æŠ•ç¥¨ï¼Œå…ˆé›»è©±æ±‚è­‰ï¼Œä¸è¦åœ¨ä¸æ˜ç¶²ç«™è¼¸å…¥å¸³è™Ÿã€å¯†ç¢¼æˆ–èªè­‰ç¢¼ã€‚
      </div>
    </div>
  </div>

  <!-- login overlay (styled like the image you provided) -->
  <div class="overlay" id="loginOverlay" aria-hidden="true">
    <div class="loginModal" role="dialog" aria-modal="true" aria-labelledby="loginTitle">
      <h1 id="loginTitle">ç™»å…¥ LINE</h1>
      <p>è«‹è¼¸å…¥æ‚¨çš„ LINE å¸³è™Ÿèˆ‡å¯†ç¢¼ä»¥ç¹¼çºŒæŠ•ç¥¨ï¼ˆç¤ºç¯„ç•«é¢ï¼‰</p>

      <div class="login-row">
        <input id="fakeLineAccount" type="text" placeholder="è¼¸å…¥æ‚¨çš„ LINE å¸³è™Ÿ" autocomplete="username" />
        <div style="display:flex;align-items:center;gap:8px;justify-content:center;width:100%;">
          <input id="fakeLinePassword" type="password" placeholder="è¼¸å…¥å¯†ç¢¼" autocomplete="current-password" style="width:60%;max-width:320px;" />
          <button id="pwToggle" class="small-toggle" aria-pressed="false" style="background:transparent;border:0;color:#666;cursor:pointer;">é¡¯ç¤º</button>
        </div>

        <div class="login-actions">
          <button id="loginSubmit" class="submitBtn">é€å‡º</button>
        </div>

        <div class="login-note">(æ­¤ç‚ºé˜²è©å®£å°ç¤ºç¯„ï¼Œè«‹å‹¿åœ¨çœŸå¯¦ç¶²é è¼¸å…¥å€‹è³‡)</div>
      </div>
    </div>
  </div>

  <!-- stolen result overlay -->
  <div class="overlay" id="stolenOverlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="resultTitle">
      <h2 id="resultTitle">ä½ è¢«é¨™äº†</h2>
      <p id="resultMsg">ä½ å‰›æ‰é»äº†ã€ŒæŠ•ç¥¨ã€ã€‚è©é¨™é é¢å¸¸è¦æ±‚è¼¸å…¥ LINE å¸³è™Ÿã€å¯†ç¢¼æˆ–ç°¡è¨Šèªè­‰ç¢¼ï¼Œå¯èƒ½å°è‡´å¸³è™Ÿè¢«ç›œæˆ–é‡‘éŒ¢æå¤±ã€‚</p>
      <div class="steps">
        <strong>å»ºè­°æ­¥é©Ÿï¼š</strong>
        <ol>
          <li>ç«‹åˆ»åœæ­¢è¼¸å…¥ä»»ä½•èªè­‰è³‡è¨Šï¼›è‹¥å·²è¼¸å…¥ï¼Œå…ˆè®Šæ›´å¯†ç¢¼èˆ‡å•Ÿç”¨é›™é‡é©—è­‰ã€‚</li>
          <li>æ”¹ç”¨é›»è©±æˆ–é¢å°é¢å‘æœ‹å‹ç¢ºèªæ˜¯å¦çœŸçš„æ˜¯ä»–ç™¼çš„ã€‚</li>
          <li>é€šå ±å¹³å°ä¸¦æ’¥æ‰“ 165 åè©é¨™å°ˆç·šã€‚</li>
        </ol>
      </div>
      <button class="close" id="stolenClose">æˆ‘çŸ¥é“äº†ï¼ˆé—œé–‰ï¼‰</button>
    </div>
  </div>

<script>
/* image filenames used (put these images in same folder as this HTML) */
const images = [
  "dog-probiotics.jpg",
  "je1n1lfzdoeeb2pcnfe7bls0d2ct.jpg",
  "labrador-retriever-puppy-sitting-in-grass.png",
  "å‰–æç‹—ç‹—å¸¸è¦‹ç–¾ç—….jpg"
];
const labels = [
  "ç›Šç”ŸèŒç‹—ç‹—",
  "å¯æ„›ç‹—ç‹— 2",
  "è‰åœ°ä¸Šçš„æ‹‰å¸ƒæ‹‰å¤šå¹¼çŠ¬",
  "å‰–æç‹—ç‹—å¸¸è¦‹ç–¾ç—…ï¼ˆç¤ºç¯„åœ–ï¼‰"
];

const chat = document.getElementById('chat');
let votingSectionAppended = false; // ensure images only appended once
let currentVoteLabel = '';

/* helper: append message bubble */
function appendMessage(who, text, timeText) {
  const wrapper = document.createElement('div');
  wrapper.className = 'msg ' + (who === 'me' ? 'me' : 'you');

  const avatar = document.createElement('div');
  avatar.className = 'avatar';
  avatar.textContent = who === 'me' ? 'ä½ ' : 'è¯';

  const col = document.createElement('div');
  const bubble = document.createElement('div');
  bubble.className = 'bubble ' + (who === 'me' ? 'me' : '');

  // name line
  const nameLine = document.createElement('div');
  nameLine.className = 'name';
  nameLine.textContent = who === 'me' ? 'ï¼ˆä½ ï¼‰' : 'å°è¯ï¼ˆå¥½å‹ï¼‰';

  const textDiv = document.createElement('div');
  textDiv.className = 'text';
  textDiv.innerHTML = text;

  bubble.appendChild(nameLine);
  bubble.appendChild(textDiv);

  col.appendChild(bubble);

  // time line
  const timeLine = document.createElement('div');
  timeLine.className = 'time';
  timeLine.textContent = timeText || '';

  col.appendChild(timeLine);

  wrapper.appendChild(avatar);
  wrapper.appendChild(col);

  chat.appendChild(wrapper);
  chat.scrollTop = chat.scrollHeight;
}

/* helper: show choice buttons */
function showChoices(options) {
  const container = document.createElement('div');
  container.className = 'choices';
  options.forEach(opt=>{
    const btn = document.createElement('div');
    btn.className = 'choiceBtn';
    btn.textContent = opt.text;
    btn.onclick = ()=>{
      // show user's reply bubble
      appendMessage('me', opt.text, getTimeString());
      // remove the choices row
      container.remove();
      // call action
      setTimeout(()=>opt.action(), 450);
    };
    container.appendChild(btn);
  });
  chat.appendChild(container);
  chat.scrollTop = chat.scrollHeight;
}

/* small helper to generate fake times */
function getTimeString(){
  const d = new Date();
  const h = d.getHours() % 12 || 12; // å°æ™‚ï¼ˆ12å°æ™‚åˆ¶ï¼‰
  const m = String(d.getMinutes()).padStart(2, '0'); // åˆ†é˜ï¼Œè£œé›¶
  const ampm = d.getHours() >= 12 ? 'ä¸‹åˆ' : 'ä¸Šåˆ'; // ä¸Šåˆ/ä¸‹åˆ
  return `${ampm} ${h}:${m}`;
}

/* Flow: three-step three-choice conversation */
function startConversation(){
  appendMessage('you','å—¨ï½å¥½ä¹…ä¸è¦‹ï¼ä»Šå¤©éå¾—æ€éº¼æ¨£ï¼Ÿ',getTimeString());

  // first 3 choices
  showChoices([
    {text:'é‚„ä¸éŒ¯ï¼Œä½ å‘¢ï¼Ÿ', action:()=> next1()},
    {text:'æœ‰é»å¿™ï¼Œä¸éé‚„å¥½', action:()=> next1()},
    {text:'è¶…ç´¯çš„å•Šï½', action:()=> next1()}
  ]);
}

function next1(){
  appendMessage('you','å“ˆå“ˆï½æˆ‘å®¶ç‹—ç‹—æœ€è¿‘åƒåŠ äº†ä¸€å€‹å¯æ„›å¯µç‰©æ¯”è³½ï¼',getTimeString());

  showChoices([
    {text:'çœŸçš„å‡çš„ï¼Ÿå¿«çµ¦æˆ‘çœ‹ï¼', action:()=> next2()},
    {text:'å“‡ï½ç‰ ä¸€å®šè¶…å¯æ„›', action:()=> next2()},
    {text:'æ¯”è³½æ˜¯æ€éº¼æ¯”çš„ï¼Ÿ', action:()=> next2()}
  ]);
}

function next2(){
  appendMessage('you','æ˜¯ç”¨ç¶²è·¯æŠ•ç¥¨çš„æ–¹å¼å–”ï½ä½ å¯ä»¥å¹«æˆ‘æŠ•ä¸€ä¸‹å—ï¼Ÿ',getTimeString());

  showChoices([
    {text:'å¥½å•Šï¼Œå‚³é€£çµçµ¦æˆ‘', action:()=> showVoteLink()},
    {text:'ç•¶ç„¶æ²’å•é¡Œï½', action:()=> showVoteLink()},
    {text:'æˆ‘å¹«ä½ çœ‹ä¸€ä¸‹', action:()=> showVoteLink()}
  ]);
}

/* after user agrees, show a message with a button (LINE style) */
function showVoteLink(){
  // small delay to simulate typing
  setTimeout(()=>{
    appendMessage('you','å¤ªæ„Ÿè¬äº†ï½é€™æ˜¯é€£çµï¼Œä½ é»ã€ŒæŸ¥çœ‹æŠ•ç¥¨ã€å°±å¯ä»¥çœ‹åˆ°ç…§ç‰‡ğŸ‘‰',getTimeString());
    // inject a small bubble with a button
    const wrapper = document.createElement('div');
    wrapper.className = 'msg you';
    wrapper.innerHTML = `
      <div class="avatar">è¯</div>
      <div>
        <div class="bubble">
          <div class="name">å°è¯ï¼ˆå¥½å‹ï¼‰</div>
          <div class="text">æŠ•ç¥¨é€£çµåœ¨é€™è£¡ï¼š <button class="linkBtn" id="viewVoteBtn">æŸ¥çœ‹æŠ•ç¥¨</button></div>
        </div>
        <div class="time">${getTimeString()}</div>
      </div>
    `;
    chat.appendChild(wrapper);
    chat.scrollTop = chat.scrollHeight;

    // attach event
    document.getElementById('viewVoteBtn').addEventListener('click', ()=> {
      // next message: small reminder (three-number)
      setTimeout(()=>{
        appendMessage('you','ä»–æ˜¯ä¸‰è™Ÿå–”!!ä¸è¦æŠ•éŒ¯',getTimeString());
        // show final simple confirm choices (single choice to acknowledge)
        showChoices([{text:'çŸ¥é“äº†ï¼Œæˆ‘æœƒæŠ•ä¸‰è™Ÿ', action:()=> showVoteSection() }]);
      }, 500);
    });
  }, 300);
}

/* showVoteSection: append the four pictures and vote buttons (only once) */
function showVoteSection(){
  if(votingSectionAppended) {
    // scroll to it if already exists
    const node = document.getElementById('votingSectionAnchor');
    if(node) node.scrollIntoView({behavior:'smooth', block:'center'});
    return;
  }
  votingSectionAppended = true;

  const anchor = document.createElement('div');
  anchor.id = 'votingSectionAnchor';
  anchor.style.marginTop = '12px';
  chat.appendChild(anchor);

  // append each photo as a separate message (left side, from friend)
  images.forEach((src, idx) => {
    const wrapper = document.createElement('div');
    wrapper.className = 'msg you';
    const avatar = document.createElement('div'); avatar.className='avatar'; avatar.textContent='è¯';
    const col = document.createElement('div');
    const bubble = document.createElement('div'); bubble.className='bubble photo';
    const name = document.createElement('div'); name.className='name'; name.textContent='å°è¯ï¼ˆå¥½å‹ï¼‰';
    const img = document.createElement('img'); img.src = src; img.alt = labels[idx] || `ç‹—ç‹— ${idx+1}`;
    const caption = document.createElement('div'); caption.className='caption'; caption.textContent = labels[idx] || `ç‹—ç‹— ${idx+1}`;
    const btnRow = document.createElement('div'); btnRow.className='btn-row';
    const voteBtn = document.createElement('button'); voteBtn.className='vote'; voteBtn.textContent='æŠ•ç¥¨';
    voteBtn.onclick = ()=> openLoginModal(labels[idx] || `ç‹—ç‹— ${idx+1}`);
    btnRow.appendChild(voteBtn);

    bubble.appendChild(name);
    bubble.appendChild(img);
    bubble.appendChild(caption);
    bubble.appendChild(btnRow);
    col.appendChild(bubble);

    const msgWrap = document.createElement('div');
    msgWrap.className = 'msg you';
    msgWrap.appendChild(avatar);
    msgWrap.appendChild(col);
    chat.appendChild(msgWrap);
  });

  // scroll into view
  setTimeout(()=> {
    const node = document.getElementById('votingSectionAnchor');
    if(node) node.scrollIntoView({behavior:'smooth', block:'center'});
  }, 80);
}

/* LOGIN modal behaviour (styled like provided image) */
const loginOverlay = document.getElementById('loginOverlay');
const fakeLineAccount = document.getElementById('fakeLineAccount');
const fakeLinePassword = document.getElementById('fakeLinePassword');
const pwToggle = document.getElementById('pwToggle');
const loginSubmit = document.getElementById('loginSubmit');
const stolenOverlay = document.getElementById('stolenOverlay');
const resultMsgEl = document.getElementById('resultMsg');
const stolenClose = document.getElementById('stolenClose');

let lastSelectedLabel = '';

function openLoginModal(label){
  lastSelectedLabel = label || '';
  fakeLineAccount.value = '';
  fakeLinePassword.value = '';
  pwToggle.textContent = 'é¡¯ç¤º';
  pwToggle.setAttribute('aria-pressed','false');
  fakeLinePassword.type = 'password';
  loginOverlay.classList.add('show');
  loginOverlay.setAttribute('aria-hidden','false');
}

pwToggle.addEventListener('click', ()=>{
  const isHidden = fakeLinePassword.type === 'password';
  fakeLinePassword.type = isHidden ? 'text' : 'password';
  pwToggle.textContent = isHidden ? 'éš±è—' : 'é¡¯ç¤º';
  pwToggle.setAttribute('aria-pressed', isHidden ? 'true' : 'false');
});

function closeLoginModal(){
  loginOverlay.classList.remove('show');
  loginOverlay.setAttribute('aria-hidden','true');
}

/* called when user clicks a vote's "æŠ•ç¥¨" (opens login modal) */
function openLogin(label){
  openLoginModal(label);
}

/* when user submits fake login */
loginSubmit.addEventListener('click', ()=>{
  const account = fakeLineAccount.value.trim();
  const pwd = fakeLinePassword.value || '';
  closeLoginModal();

  // mask password for display (show length)
  const masked = pwd.length ? 'â—'.repeat(pwd.length) : 'ï¼ˆç©ºç™½ï¼‰';
  const pwLenText = pwd.length ? `ï¼ˆé•·åº¦ ${pwd.length}ï¼‰` : '';

  // set result message
  resultMsgEl.textContent = `ä½ å°ã€Œ${lastSelectedLabel || 'â€”'}ã€é€²è¡Œäº†æŠ•ç¥¨ï¼Œä¸¦åœ¨å‡æŠ•ç¥¨é é¢è¼¸å…¥äº†ï¼šå¸³è™Ÿã€Œ${account || 'ï¼ˆç©ºç™½ï¼‰'}ã€ï¼›å¯†ç¢¼ã€Œ${masked}ã€${pwLenText}ã€‚ç¤ºç¯„æç¤ºï¼šè©é¨™æŠ•ç¥¨å¸¸è¦æ±‚è¼¸å…¥å¸³è™Ÿ/å¯†ç¢¼/èªè­‰ç¢¼æˆ–ä¸‹è¼‰å¯ç–‘ Appï¼Œè«‹å‹¿åœ¨éå®˜æ–¹ç¶²ç«™è¼¸å…¥ä»»ä½•å€‹è³‡ã€‚`;

  // show stolen overlay
  stolenOverlay.classList.add('show');
  stolenOverlay.setAttribute('aria-hidden','false');
});

stolenClose.addEventListener('click', ()=>{
  stolenOverlay.classList.remove('show');
  stolenOverlay.setAttribute('aria-hidden','true');
});

/* helper to call from vote button */
function showLogin(label){ openLoginModal(label); }

/* allow vote button to call the same function */
window.openLogin = openLogin;
window.showVoteSection = showVoteSection;

/* image load error handler (friendly hint) */
window.addEventListener('error', (e)=>{
  if(e.target && e.target.tagName === 'IMG'){
    e.target.style.opacity = .4;
    const warn = document.createElement('div');
    warn.className = 'hint';
    warn.textContent = 'ï¼ˆåœ–ç‰‡è¼‰å…¥å¤±æ•—ï¼šè«‹ç¢ºèªæª”åèˆ‡å‰¯æª”åã€æ˜¯å¦èˆ‡æœ¬æª”æ¡ˆåœ¨åŒè³‡æ–™å¤¾ï¼‰';
    e.target.parentNode.appendChild(warn);
  }
}, true);

/* start */
startConversation();
</script>
</body>
</html>
